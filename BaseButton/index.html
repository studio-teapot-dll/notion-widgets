<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notion Button Widget</title>
    <style>
        /* 1. ê¸°ë³¸ ì„¤ì • (ë…¸ì…˜ê³¼ ì–´ìš¸ë¦¬ê²Œ) */
        :root {
            /* ë¼ì´íŠ¸ ëª¨ë“œ ìƒ‰ìƒ */
            --bg-color: #2eaadc; /* ë²„íŠ¼ ë°°ê²½ìƒ‰ (íŒŒë‘) */
            --text-color: #ffffff; /* ê¸€ììƒ‰ */
            --hover-bg: #2690b9;   /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ë°°ê²½ìƒ‰ */
        }

        @media (prefers-color-scheme: dark) {
            :root {
                /* ë‹¤í¬ ëª¨ë“œì¼ ë•Œ ìƒ‰ìƒ ë³€ê²½ì„ ì›í•˜ë©´ ì—¬ê¸°ì„œ ìˆ˜ì • */
                /* --bg-color: #37352f; */ 
            }
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: transparent; /* ë°°ê²½ íˆ¬ëª… í•„ìˆ˜ */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        /* 2. ë²„íŠ¼ ë””ìì¸ */
        .btn {
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px; /* ì•„ì´ì½˜ê³¼ ê¸€ì ì‚¬ì´ ê°„ê²© */
            
            padding: 10px 20px; /* ë²„íŠ¼ í¬ê¸° ì¡°ì ˆ (ì„¸ë¡œ ê°€ë¡œ) */
            border-radius: 8px; /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease; /* ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ */
            
            /* ê·¸ë¦¼ì (ì„ íƒì‚¬í•­) */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ìŠ¤íƒ€ì¼ 1: ê½‰ ì°¬ ë²„íŠ¼ (Filled) */
        .btn.filled {
            background-color: var(--bg-color);
            color: var(--text-color);
            border: none;
        }
        .btn.filled:hover {
            background-color: var(--hover-bg);
            transform: translateY(-2px); /* ì‚´ì§ ë– ì˜¤ë¥´ëŠ” íš¨ê³¼ */
        }

        /* ìŠ¤íƒ€ì¼ 2: í…Œë‘ë¦¬ ë²„íŠ¼ (Outline) */
        .btn.outline {
            background-color: transparent;
            border: 2px solid var(--bg-color);
            color: var(--bg-color);
            box-shadow: none;
        }
        .btn.outline:hover {
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        /* ìŠ¤íƒ€ì¼ 3: ê¸€ìë§Œ ìˆëŠ” ë²„íŠ¼ (Ghost) */
        .btn.ghost {
            background-color: transparent;
            color: var(--bg-color); /* ë°°ê²½ìƒ‰ì„ ê¸€ììƒ‰ìœ¼ë¡œ ì”€ */
            box-shadow: none;
            padding: 5px 10px;
        }
        .btn.ghost:hover {
            background-color: rgba(0,0,0,0.05); /* ì•„ì£¼ ì—°í•œ íšŒìƒ‰ ë°°ê²½ */
        }
        
        /* ë‹¤í¬ëª¨ë“œ ëŒ€ì‘: Ghost ìŠ¤íƒ€ì¼ì¼ ë•Œ ê¸€ììƒ‰ ë°ê²Œ */
        @media (prefers-color-scheme: dark) {
            .btn.ghost { color: #e0e0e0; }
            .btn.ghost:hover { background-color: rgba(255,255,255,0.1); }
        }

    </style>
</head>
<body>

    <a id="myButton" class="btn filled" href="#" target="_blank">
        <span id="btnIcon"></span>
        <span id="btnText">Button</span>
    </a>

<script>
        // 1. URLì—ì„œ "ì£¼ë¬¸ì„œ(íŒŒë¼ë¯¸í„°)"ë¥¼ ì½ì–´ì˜¤ëŠ” í•¨ìˆ˜
        const params = new URLSearchParams(window.location.search);

        // 2. íŒŒë¼ë¯¸í„°ê°€ ì—†ìœ¼ë©´ ì‚¬ìš©í•  ê¸°ë³¸ê°’ (ì„¤ëª…ì„œ ì—­í• )
        const defaults = {
            text: "ì„¤ì • í•„ìš”",
            link: "#",
            icon: "âš™ï¸",
            style: "filled",
            color: "#2eaadc"
        };

        // 3. URL íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ ê·¸ê²ƒì„ ì“°ê³ , ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ì„ ì”€
        // ì‚¬ìš© ì˜ˆ: ?text=ë„¤ì´ë²„&link=https://naver.com&color=#00c73c
        const config = {
            text: params.get('text') || defaults.text,
            link: params.get('link') || defaults.link,
            icon: params.get('icon') || "", // ì•„ì´ì½˜ì€ ì—†ìœ¼ë©´ ë¹„ì›Œë‘ 
            style: params.get('style') || defaults.style,
            color: params.get('color') ? '#' + params.get('color').replace('#', '') : defaults.color 
            // ìƒ‰ìƒ ì½”ë“œ ì•ì— #ì„ ë¹¼ë¨¹ê³  ì¨ë„ ì•Œì•„ì„œ ë¶™ì—¬ì£¼ë„ë¡ ì²˜ë¦¬
        };

        // ==========================================
        // ğŸ‘‡ í™”ë©´ì— ê·¸ë¦¬ê¸° (ì´ì „ê³¼ ë™ì¼)
        // ==========================================

        const btn = document.getElementById('myButton');
        const txt = document.getElementById('btnText');
        const ico = document.getElementById('btnIcon');

        txt.innerText = config.text;
        btn.href = config.link;
        
        if(config.icon) {
            ico.innerText = config.icon;
            ico.style.display = 'inline';
        } else {
            ico.style.display = 'none';
        }

        btn.classList.remove('filled', 'outline', 'ghost');
        btn.classList.add(config.style);

        document.documentElement.style.setProperty('--bg-color', config.color);
    </script>
</body>
</html>